# Overview
+ main.py: 


# CSI data format
1. 帧级标识与基本信息

| 字段            | 示例值      | 含义                                                    |
| --------------- | ---------- | ------------------------------------------------------- |
| **magic\_high** | 0xCAFE     | 帧头魔数，用于快速定位一条记录（可过滤 `0xCAFE` 抓帧）。    |
| **packet\_sn**  | 5915       | 本 CSI 帧的序号（逐帧递增），可用来检测丢帧或计算收包速率。                        |
| **vendor**      | mtk        | 射频方案厂商（mtk MediaTek 联发 / qca Qualcomm 高通 / tbd To Be Determined）。   |
| **chip\_id**    | MTK 7916   | 具体射频/SoC 型号（MTK 7961 Wi-Fi 6/6E / QCA 6224 Wi-Fi 7 5G）。          |
| **timestamp**   | 3534404427 | **μs 级** 时间戳（通常从芯片上电开始计时），同一 PPDU 所有链时间戳相同，用来**组帧/去重**。 |
| **status**      | 1361707105 | 芯片内部状态字（解码/AGC/同步标志），一般留作调试，可忽略。                        |

2. 物理层参数

| 字段                        | 示例值   | 含义                                                               |
| ------------------------- | ----- | ---------------------------------------------------------------- |
| **bandwidth**             | 80MHz | 当前 PPDU 带宽（20/40/80/160 MHz），决定子载波数量（80 MHz → 256 FFT → 234 有用）。 |
| **phy\_mode**             | 0     | 0=11ax, 1=11ac, 2=11n... 见枚举表，可映射成字符串。                           |
| **rx\_chain\_num**        | 97    | **实际参与接收的链位掩码**（bit0=链1...），97(0x61) → 链1+链6+链7 有效（调试时可过滤）。      |
| **data\_len\_per\_chain** | 0     | **每条链 CSI 字节数**（0 表示用后面 tot\_data\_length 均分）。                   |
| **tot\_data\_length**     | 2048  | **整帧 CSI 总字节数**（含所有链），用来校验后续二进制块长度。                              |

3. 地址与 RSSI

| 字段               | 示例值                | 含义                                              |
| ---------------- | ------------------ | ----------------------------------------------- |
| **peer\_mac**    | a0:02:a5:ce:a4:55  | 对端（STA）MAC，可用来做**设备过滤/定位指纹**。                   |
| **chain\_rssi**  | "(-50, 0, 0, ...)" | **每链 RSSI dBm**（负数），长度=最大链数，无效填 0；**负值越大信号越强**。 |
| **chain\_phase** | "(0, 0, ...)"      | **每链相位偏移**（弧度或弧度×1000），目前全 0 → 未校准/未启用。         |
| **agc\_gain**    | "(0, 0, ...)"      | **每链 AGC 增益步进**，可换算接收功率；全 0 → 未填。               |


4. 速率与编码参数

| 字段           | 示例值 | 含义                                                          |
| -------------- | --- | ---------------------------------------------------------- |
| **mcs**        | 11  | **MCS 索引**（0-11 为 11ax 20 MHz 单流，11≈ 54 Mbps），直接决定调制阶数与码率。 |
| **gi\_type**   | 0   | 保护间隔 0=0.8 μs, 1=1.6 μs, 2=3.2 μs；影响最大速率。                          |
| **coding**     | 0   | 0=BCC, 1=LDPC；决定纠错码类型。                                      |
| **stbc**       | 0   | 空时块码是否启用（0=关, 1=开）。                                      |
| **beamformed** | 0   | 波束成形是否启用（0=关, 1=开）。                                      |
| **dcm**        | 0   | 双载波调制（0=关, 1=开）。                                           |
| **ltf\_size**  | 0   | LTF 长度 0=1×, 1=2×, 2=4×；用于信道估计精度。                          |
| **sgi**        | 0   | Short GI 标志（0=长 GI, 1=短 GI）。                               |

5. CSI 长度

| 字段           | 示例值 | 含义                                                                  |
| ------------ | --- | ------------------------------------------------------------------- |
| **csi\_cnt** | 512 | **本帧 CSI 复数采样点总数**（I/Q 对数），后面二进制块长度 = csi\_cnt × 2 × sizeof(int16)。 |


